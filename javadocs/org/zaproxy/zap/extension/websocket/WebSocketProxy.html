<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_26) on Thu Aug 16 09:50:33 CEST 2012 -->
<TITLE>
WebSocketProxy (OWASP Zed Attack Proxy)
</TITLE>

<META NAME="date" CONTENT="2012-08-16">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WebSocketProxy (OWASP Zed Attack Proxy)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/zaproxy/zap/extension/websocket/WebSocketProxy.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WebSocketProxy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.zaproxy.zap.extension.websocket</FONT>
<BR>
Class WebSocketProxy</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.zaproxy.zap.extension.websocket.WebSocketProxy</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxyV13.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketProxyV13</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>WebSocketProxy</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Intercepts WebSocket communication and forwards frames. Code is inspired by
 the <a href="http://code.google.com/p/monsoon/">Monsoon</a> project.
 <p>
 It is not based on Java's NIO features as with Monsoon, as the underlying
 Paros Proxy is based on Sockets and I got huge problems when adding SSL
 support when switching from Sockets to SocketChannels in this class.
 Therefore each instance has got two threads that listen on each side for new
 messages (these are blocking reads).
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket">WebSocketProxy.State</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebSocket communication state.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.sql.Timestamp</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#end">end</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Timestamp is set when <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html" title="class in org.zaproxy.zap.extension.websocket"><CODE>WebSocketProxy</CODE></A> reaches <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#CLOSED"><CODE>WebSocketProxy.State.CLOSED</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.net.Socket</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#localSocket">localSocket</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Socket for connection: Browser <-> ZAP</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.Comparator&lt;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket">WebSocketObserver</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#observersComparator">observersComparator</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to determine when to call which <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket"><CODE>WebSocketObserver</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.net.Socket</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#remoteSocket">remoteSocket</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Socket for connection: ZAP <-> Server</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.sql.Timestamp</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#start">start</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Timestamp is set when <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html" title="class in org.zaproxy.zap.extension.websocket"><CODE>WebSocketProxy</CODE></A> reaches <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#OPEN"><CODE>WebSocketProxy.State.OPEN</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket">WebSocketProxy.State</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#state">state</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;State of this channel, start in <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#CONNECTING"><CODE>WebSocketProxy.State.CONNECTING</CODE></A> and evolve over
 time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.HashMap&lt;java.io.InputStream,<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessage</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#unfinishedMessages">unfinishedMessages</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Non-finished messages are temporarily buffered.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#WebSocketProxy(java.net.Socket, java.net.Socket)">WebSocketProxy</A></B>(java.net.Socket&nbsp;localSocket,
               java.net.Socket&nbsp;remoteSocket)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a WebSocket on a channel.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#addObserver(org.zaproxy.zap.extension.websocket.WebSocketObserver)">addObserver</A></B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket">WebSocketObserver</A>&nbsp;observer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add observer that gets informed about in- & outgoing messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketProxy</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#create(java.lang.String, java.net.Socket, java.net.Socket, java.lang.String, java.util.Map)">create</A></B>(java.lang.String&nbsp;version,
       java.net.Socket&nbsp;localSocket,
       java.net.Socket&nbsp;remoteSocket,
       java.lang.String&nbsp;subprotocol,
       java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;extensions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Factory method to create appropriate version.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessage</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#createWebSocketMessage(java.io.InputStream, byte)">createWebSocketMessage</A></B>(java.io.InputStream&nbsp;in,
                       byte&nbsp;frameHeader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessage</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#createWebSocketMessage(org.zaproxy.zap.extension.websocket.WebSocketMessageDTO)">createWebSocketMessage</A></B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessageDTO.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessageDTO</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#getChannelId()">getChannelId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketChannelDTO.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketChannelDTO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#getDTO()">getDTO</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/parosproxy/paros/model/HistoryReference.html" title="class in org.parosproxy.paros.model">HistoryReference</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#getHandshakeReference()">getHandshakeReference</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#getIncrementedMessageCount()">getIncrementedMessageCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.net.Socket</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#getOppositeSocket(java.net.Socket)">getOppositeSocket</A></B>(java.net.Socket&nbsp;socket)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#isConnected()">isConnected</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#isForwardOnly()">isForwardOnly</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If true, then no observer is called, resulting in immediate forwarding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#notifyMessageObservers(org.zaproxy.zap.extension.websocket.WebSocketMessage)">notifyMessageObservers</A></B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessage</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Call each observer as long as no observer has told us to drop the message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#notifyStateObservers(org.zaproxy.zap.extension.websocket.WebSocketProxy.State)">notifyStateObservers</A></B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket">WebSocketProxy.State</A>&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper to inform about new <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#state"><CODE>state</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#processRead(java.io.InputStream, java.io.OutputStream, byte)">processRead</A></B>(java.io.InputStream&nbsp;in,
            java.io.OutputStream&nbsp;out,
            byte&nbsp;frameHeader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read one frame from given input stream and forward it to given output
 stream, if forwarding is allowed by WebSocket-observers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#removeObserver(org.zaproxy.zap.extension.websocket.WebSocketObserver)">removeObserver</A></B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket">WebSocketObserver</A>&nbsp;observer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop getting informed about in- & outgoing messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#sendAndNotify(org.zaproxy.zap.extension.websocket.WebSocketMessageDTO)">sendAndNotify</A></B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessageDTO.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessageDTO</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a custom message and informs <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket"><CODE>WebSocketObserver</CODE></A> instances of
 this new message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#setForwardOnly(boolean)">setForwardOnly</A></B>(boolean&nbsp;shouldBeForwardOnly)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If true, then no observer is called, resulting in immediate forwarding.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#setHandshakeReference(org.parosproxy.paros.model.HistoryReference)">setHandshakeReference</A></B>(<A HREF="../../../../../org/parosproxy/paros/model/HistoryReference.html" title="class in org.parosproxy.paros.model">HistoryReference</A>&nbsp;handshakeReference)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#setState(org.zaproxy.zap.extension.websocket.WebSocketProxy.State)">setState</A></B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket">WebSocketProxy.State</A>&nbsp;newState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#EXCLUDED"><CODE>WebSocketProxy.State.EXCLUDED</CODE></A> and <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#INCLUDED"><CODE>WebSocketProxy.State.INCLUDED</CODE></A> are never set as status,
 but are used to inform observers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#shutdown()">shutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop listening & close all resources, i.e.: threads, streams & sockets</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#startListeners(java.util.concurrent.ExecutorService, java.io.InputStream)">startListeners</A></B>(java.util.concurrent.ExecutorService&nbsp;listenerThreadPool,
               java.io.InputStream&nbsp;remoteReader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start listening to the WebSocket-connection using threads from the given
 pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="state"><!-- --></A><H3>
state</H3>
<PRE>
protected <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket">WebSocketProxy.State</A> <B>state</B></PRE>
<DL>
<DD>State of this channel, start in <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#CONNECTING"><CODE>WebSocketProxy.State.CONNECTING</CODE></A> and evolve over
 time. Never set value to <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#EXCLUDED"><CODE>WebSocketProxy.State.EXCLUDED</CODE></A> or <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#INCLUDED"><CODE>WebSocketProxy.State.INCLUDED</CODE></A>
 . While observers are notified of these two extra-states, the internal
 state is never set to one of these two values.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="start"><!-- --></A><H3>
start</H3>
<PRE>
protected java.sql.Timestamp <B>start</B></PRE>
<DL>
<DD>Timestamp is set when <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html" title="class in org.zaproxy.zap.extension.websocket"><CODE>WebSocketProxy</CODE></A> reaches <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#OPEN"><CODE>WebSocketProxy.State.OPEN</CODE></A>.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="end"><!-- --></A><H3>
end</H3>
<PRE>
protected java.sql.Timestamp <B>end</B></PRE>
<DL>
<DD>Timestamp is set when <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html" title="class in org.zaproxy.zap.extension.websocket"><CODE>WebSocketProxy</CODE></A> reaches <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#CLOSED"><CODE>WebSocketProxy.State.CLOSED</CODE></A>.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="unfinishedMessages"><!-- --></A><H3>
unfinishedMessages</H3>
<PRE>
protected java.util.HashMap&lt;java.io.InputStream,<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessage</A>&gt; <B>unfinishedMessages</B></PRE>
<DL>
<DD>Non-finished messages are temporarily buffered. WebSocket messages are
 allowed to consist of an arbitrary number of frames.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="localSocket"><!-- --></A><H3>
localSocket</H3>
<PRE>
protected final java.net.Socket <B>localSocket</B></PRE>
<DL>
<DD>Socket for connection: Browser <-> ZAP
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="remoteSocket"><!-- --></A><H3>
remoteSocket</H3>
<PRE>
protected final java.net.Socket <B>remoteSocket</B></PRE>
<DL>
<DD>Socket for connection: ZAP <-> Server
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="observersComparator"><!-- --></A><H3>
observersComparator</H3>
<PRE>
public static java.util.Comparator&lt;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket">WebSocketObserver</A>&gt; <B>observersComparator</B></PRE>
<DL>
<DD>Used to determine when to call which <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket"><CODE>WebSocketObserver</CODE></A>.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="WebSocketProxy(java.net.Socket, java.net.Socket)"><!-- --></A><H3>
WebSocketProxy</H3>
<PRE>
public <B>WebSocketProxy</B>(java.net.Socket&nbsp;localSocket,
                      java.net.Socket&nbsp;remoteSocket)
               throws <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketException.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketException</A></PRE>
<DL>
<DD>Create a WebSocket on a channel. You need to call
 <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#startListeners(java.util.concurrent.ExecutorService, java.io.InputStream)"><CODE>startListeners(ExecutorService, InputStream)</CODE></A> to
 turn on this proxy.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>localSocket</CODE> - Channel from local machine to ZAP.<DD><CODE>remoteSocket</CODE> - Channel from ZAP to remote machine.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketException.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketException</A></CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="create(java.lang.String, java.net.Socket, java.net.Socket, java.lang.String, java.util.Map)"><!-- --></A><H3>
create</H3>
<PRE>
public static <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketProxy</A> <B>create</B>(java.lang.String&nbsp;version,
                                    java.net.Socket&nbsp;localSocket,
                                    java.net.Socket&nbsp;remoteSocket,
                                    java.lang.String&nbsp;subprotocol,
                                    java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;extensions)
                             throws <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketException.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketException</A></PRE>
<DL>
<DD>Factory method to create appropriate version.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>version</CODE> - Protocol version.<DD><CODE>localSocket</CODE> - Channel from browser to ZAP.<DD><CODE>remoteSocket</CODE> - Channel from ZAP to server.<DD><CODE>subprotocol</CODE> - Provide null if there is no subprotocol specified.<DD><CODE>extensions</CODE> - Map of negotiated extensions, null or empty list.
<DT><B>Returns:</B><DD>Version specific proxy object.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketException.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setState(org.zaproxy.zap.extension.websocket.WebSocketProxy.State)"><!-- --></A><H3>
setState</H3>
<PRE>
protected void <B>setState</B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket">WebSocketProxy.State</A>&nbsp;newState)</PRE>
<DL>
<DD><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#EXCLUDED"><CODE>WebSocketProxy.State.EXCLUDED</CODE></A> and <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#INCLUDED"><CODE>WebSocketProxy.State.INCLUDED</CODE></A> are never set as status,
 but are used to inform observers.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newState</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="startListeners(java.util.concurrent.ExecutorService, java.io.InputStream)"><!-- --></A><H3>
startListeners</H3>
<PRE>
public void <B>startListeners</B>(java.util.concurrent.ExecutorService&nbsp;listenerThreadPool,
                           java.io.InputStream&nbsp;remoteReader)
                    throws <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketException.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketException</A></PRE>
<DL>
<DD>Start listening to the WebSocket-connection using threads from the given
 pool. Read also buffered bytes from incoming connection (Server -> ZAP).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listenerThreadPool</CODE> - Thread pool is provided by <A HREF="../../../../../org/zaproxy/zap/extension/websocket/ExtensionWebSocket.html" title="class in org.zaproxy.zap.extension.websocket"><CODE>ExtensionWebSocket</CODE></A>.<DD><CODE>remoteReader</CODE> - This <CODE>InputStream</CODE> that contained the handshake response.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketException.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="shutdown()"><!-- --></A><H3>
shutdown</H3>
<PRE>
public void <B>shutdown</B>()</PRE>
<DL>
<DD>Stop listening & close all resources, i.e.: threads, streams & sockets
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isConnected()"><!-- --></A><H3>
isConnected</H3>
<PRE>
public boolean <B>isConnected</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>True if proxy's state is <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#OPEN"><CODE>WebSocketProxy.State.OPEN</CODE></A>.</DL>
</DD>
</DL>
<HR>

<A NAME="processRead(java.io.InputStream, java.io.OutputStream, byte)"><!-- --></A><H3>
processRead</H3>
<PRE>
public void <B>processRead</B>(java.io.InputStream&nbsp;in,
                        java.io.OutputStream&nbsp;out,
                        byte&nbsp;frameHeader)
                 throws java.io.IOException</PRE>
<DL>
<DD>Read one frame from given input stream and forward it to given output
 stream, if forwarding is allowed by WebSocket-observers.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>in</CODE> - Here comes the frame.<DD><CODE>out</CODE> - There should it be forwarded.<DD><CODE>frameHeader</CODE> - The first byte of the frame, that was already read.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createWebSocketMessage(java.io.InputStream, byte)"><!-- --></A><H3>
createWebSocketMessage</H3>
<PRE>
protected abstract <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessage</A> <B>createWebSocketMessage</B>(java.io.InputStream&nbsp;in,
                                                           byte&nbsp;frameHeader)
                                                    throws java.io.IOException</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>in</CODE> - Read bytes from here.<DD><CODE>frameHeader</CODE> - First byte of frame, containing FIN flag and opcode.
<DT><B>Returns:</B><DD>version specific WebSocket message
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createWebSocketMessage(org.zaproxy.zap.extension.websocket.WebSocketMessageDTO)"><!-- --></A><H3>
createWebSocketMessage</H3>
<PRE>
protected abstract <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessage</A> <B>createWebSocketMessage</B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessageDTO.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessageDTO</A>&nbsp;message)
                                                    throws <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketException.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - Contains content to be used to create <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket"><CODE>WebSocketMessage</CODE></A>.
<DT><B>Returns:</B><DD>version specific WebSocket message, that is build upon given base-DTO
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketException.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getOppositeSocket(java.net.Socket)"><!-- --></A><H3>
getOppositeSocket</H3>
<PRE>
protected java.net.Socket <B>getOppositeSocket</B>(java.net.Socket&nbsp;socket)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>socket</CODE> - 
<DT><B>Returns:</B><DD>opposed socket</DL>
</DD>
</DL>
<HR>

<A NAME="isForwardOnly()"><!-- --></A><H3>
isForwardOnly</H3>
<PRE>
public boolean <B>isForwardOnly</B>()</PRE>
<DL>
<DD>If true, then no observer is called, resulting in immediate forwarding.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Nothing will be stored if true.</DL>
</DD>
</DL>
<HR>

<A NAME="setForwardOnly(boolean)"><!-- --></A><H3>
setForwardOnly</H3>
<PRE>
public void <B>setForwardOnly</B>(boolean&nbsp;shouldBeForwardOnly)</PRE>
<DL>
<DD>If true, then no observer is called, resulting in immediate forwarding.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>shouldBeForwardOnly</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="notifyMessageObservers(org.zaproxy.zap.extension.websocket.WebSocketMessage)"><!-- --></A><H3>
notifyMessageObservers</H3>
<PRE>
protected boolean <B>notifyMessageObservers</B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessage.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessage</A>&nbsp;message)</PRE>
<DL>
<DD>Call each observer as long as no observer has told us to drop the message. Then
 further notifications are skipped and false is returned.
 <p>
 Call this helper only when <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#isForwardOnly"><CODE>isForwardOnly</CODE></A> is set to
 false.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>message</CODE> - 
<DT><B>Returns:</B><DD>False if message should be dropped.</DL>
</DD>
</DL>
<HR>

<A NAME="notifyStateObservers(org.zaproxy.zap.extension.websocket.WebSocketProxy.State)"><!-- --></A><H3>
notifyStateObservers</H3>
<PRE>
protected void <B>notifyStateObservers</B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket">WebSocketProxy.State</A>&nbsp;state)</PRE>
<DL>
<DD>Helper to inform about new <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#state"><CODE>state</CODE></A>. Also called when
 a former <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.html#isForwardOnly"><CODE>isForwardOnly</CODE></A> channel is no longer
 blacklisted <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#INCLUDED"><CODE>WebSocketProxy.State.INCLUDED</CODE></A> or vice-versa <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html#EXCLUDED"><CODE>WebSocketProxy.State.EXCLUDED</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addObserver(org.zaproxy.zap.extension.websocket.WebSocketObserver)"><!-- --></A><H3>
addObserver</H3>
<PRE>
public void <B>addObserver</B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket">WebSocketObserver</A>&nbsp;observer)</PRE>
<DL>
<DD>Add observer that gets informed about in- & outgoing messages.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>observer</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="removeObserver(org.zaproxy.zap.extension.websocket.WebSocketObserver)"><!-- --></A><H3>
removeObserver</H3>
<PRE>
public void <B>removeObserver</B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket">WebSocketObserver</A>&nbsp;observer)</PRE>
<DL>
<DD>Stop getting informed about in- & outgoing messages.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>observer</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getChannelId()"><!-- --></A><H3>
getChannelId</H3>
<PRE>
public int <B>getChannelId</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getIncrementedMessageCount()"><!-- --></A><H3>
getIncrementedMessageCount</H3>
<PRE>
public int <B>getIncrementedMessageCount</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getHandshakeReference()"><!-- --></A><H3>
getHandshakeReference</H3>
<PRE>
public <A HREF="../../../../../org/parosproxy/paros/model/HistoryReference.html" title="class in org.parosproxy.paros.model">HistoryReference</A> <B>getHandshakeReference</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setHandshakeReference(org.parosproxy.paros.model.HistoryReference)"><!-- --></A><H3>
setHandshakeReference</H3>
<PRE>
public void <B>setHandshakeReference</B>(<A HREF="../../../../../org/parosproxy/paros/model/HistoryReference.html" title="class in org.parosproxy.paros.model">HistoryReference</A>&nbsp;handshakeReference)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDTO()"><!-- --></A><H3>
getDTO</H3>
<PRE>
public <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketChannelDTO.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketChannelDTO</A> <B>getDTO</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendAndNotify(org.zaproxy.zap.extension.websocket.WebSocketMessageDTO)"><!-- --></A><H3>
sendAndNotify</H3>
<PRE>
public void <B>sendAndNotify</B>(<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketMessageDTO.html" title="class in org.zaproxy.zap.extension.websocket">WebSocketMessageDTO</A>&nbsp;msg)
                   throws java.io.IOException</PRE>
<DL>
<DD>Sends a custom message and informs <A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket"><CODE>WebSocketObserver</CODE></A> instances of
 this new message.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketObserver.html" title="interface in org.zaproxy.zap.extension.websocket"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/zaproxy/zap/extension/websocket/WebSocketProxy.State.html" title="enum in org.zaproxy.zap.extension.websocket"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/zaproxy/zap/extension/websocket/WebSocketProxy.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WebSocketProxy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
